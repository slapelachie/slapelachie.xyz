import{f as C,e as b,M as w,q as S,k as L,o as c,G as r,a as o,Q as h,R as m,u as f,S as B,t as u,U as D,w as R,K as V,V as q}from"./entry.ac178100.js";import{u as $}from"./composables.11491165.js";import{q as E}from"./query.bed2eb7b.js";import"./utils.3ba8bf7d.js";const F=o("h1",{class:"section-header"},"Categories",-1),N={class:"subsections-container categories-container"},P=["onClick"],z={class:"subsection-info"},A=o("h1",{class:"section-header"},"Posts",-1),G={class:"subsections-container"},H={class:"year-heading"},I={class:"subsection-info"},Y=C({__name:"index",async setup(K){let d,y;b();const p=([d,y]=w(()=>E("blog").sort({date:-1}).find()),d=await d,y(),d),i=S("");$({title:"Lachlan Slape :: Blog"});function g(e){let a=new Date(e),s=a.toLocaleString("default",{month:"short"}),t=a.toLocaleString("default",{day:"numeric"});return`${s} ${t}`}function v(e){let a=new Date(e);return parseInt(a.toLocaleString("default",{year:"numeric"}))}let _=[],l=[];p.forEach(e=>{let a={title:e==null?void 0:e.title,date:e.date,category:e.category,path:e._path};if(e.date){const s=v(e.date);let t=l.find(n=>n.year===s);t?t.posts.push(a):l.push({year:s,posts:[a]})}if(e.category){let s=_.find(t=>t.name===e.category);s?s.occurances++:_.push({name:e.category,occurances:1}),_.sort((t,n)=>n.occurances-t.occurances)}});function k(e){i.value==e?i.value="":i.value=e}const x=L(function(){return i.value===""?l:l.map(e=>({year:e.year,posts:e.posts.filter(a=>a.category===i.value)})).filter(e=>e.posts.length>0)});return(e,a)=>{const s=V;return c(),r("main",null,[F,o("div",N,[(c(!0),r(h,null,m(f(_),t=>(c(),r("div",{class:"subsection-container",key:t.name},[o("span",{class:B(["subsection-title",{"category-active":t.name===f(i)}]),onClick:n=>k(t.name)},u(t.name),11,P),o("span",z,u(t.occurances),1)]))),128))]),A,o("div",G,[(c(!0),r(h,null,m(f(x),t=>(c(),r("div",{class:"year-container",key:f(l).year},[o("h2",H,u(t.year),1),(c(!0),r(h,null,m(t.posts,n=>(c(),r("div",{class:"subsection-container",key:n.path},[D(s,{to:n.path,class:"subsection-title"},{default:R(()=>[q(u(n.title),1)]),_:2},1032,["to"]),o("span",I,u(g(n.date)),1)]))),128))]))),128))])])}}});export{Y as default};
